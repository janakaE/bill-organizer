machine:
  php:
    version: 7.0.4
deployment:
  staging:
    branch: master
    heroku:
      appname: billorg
dependencies:
    pre:
    # below are templates to setup before installing dependencies 
    # - echo "export DB_URL=$DB_URL" >> /etc/apache2/envvars
    # - echo "export DB_NAME=$DB_NAME" >> /etc/apache2/envvars
    # - echo "export DB_USER=$DB_USER" >> /etc/apache2/envvars
    # - Here we copy the SQL dump we want to test with  
    # - mysql -u $DB_USER $DB_NAME < app/config/$ENVIRONMENT/qa-dump.sql 
    poset:
    # we need to give permission to laravel storage
    # - sudo chown -R www-data:www-data app/storage
    # - sudo find app/storage -type d -exec chmod 755 {} \; && sudo find app/storage -type f -exec chmod 644 {} \;
test: 
    pre:
        #this is where dusk(uses selemium) is called to test ui https://laravel.com/docs/5.4/dusk before phpunit is ran
    post:
        #clean up after test 


